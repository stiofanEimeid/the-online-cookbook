{% extends 'base.html' %} {% block content %}



<div class="container">
    <div class="row heading-box">
      <div class="col"><h1>Edit Recipe</h1></div>
       <div style="height: 75px; width: 100%;" >
                <svg viewBox="0 0 500 150" preserveAspectRatio="none" style="height: 100%; width: 100%;"><path d="M0.00,50.00 C150.00,150.00 350.00,150.00 500.00,50.00 L500.00,150.00 L0.00,150.00 Z" style="stroke: none; fill: #ececec;"></path></svg>
              </div>
    </div>
    <form action="{{ url_for('update_recipe', id=recipe._id) }}" method="POST">
        
          <div class="form-group">
            <fieldset id="buildyourform">
    		<legend>Recipe Name</legend>
        	
        	        <div>
            <input type="text" name="recipe_name" class="form-control" value="{{ recipe.recipe_name }}">
          	    </div>
        	</fieldset>
            </div>
            
                 <div class="form-group">
          
                    <fieldset id="buildyourform">
            		      <legend>Recipe Description</legend>
                	
                	        <div>
                    <textarea class="form-control" name="recipe_description"  rows="3">{{recipe.recipe_description}}</textarea>
                </div>
                	</fieldset>
                </div>
        
          <div class="form-group">
               <fieldset id="buildyourform">
    		      <legend>Recipe Type</legend>
        	        <div>
                         <select class='custom-select' name="recipe_type" required>
                            <option value="">Choose</option>
                            <option value="Italian" {{ 'selected' if recipe.recipe_type == "Italian" else '' }}>Italian</option>
                            <option value="Mexican" {{ 'selected' if recipe.recipe_type == "Mexican" else '' }}>Mexican</option>
                            <option value="Indian" {{ 'selected' if recipe.recipe_type == "Indian" else '' }}>Indian</option>
                            <option value="Chinese" {{ 'selected' if recipe.recipe_type == "Chinese" else '' }}>Chinese</option>
                            <option value="Other" {{ 'selected' if recipe.recipe_type == "Other" else '' }}>Other</option>
                          </select>
                    </div>
        	    </fieldset>
        </div>
        
         <div class="form-group">
               <fieldset id="buildyourform">
    		      <legend>Recipe Type</legend>
        	        <div>
                         <select class='custom-select' name="meal_type" required>
                             <option value="">Choose</option>
                            <option value="Breakfast" {{ 'selected' if recipe.meal_type == "Breakfast" else '' }}>Breakfast</option>
                            <option value="Lunch" {{ 'selected' if recipe.meal_type == "Lunch" else '' }}>Lunch</option>
                            <option value="Dinner" {{ 'selected' if recipe.meal_type == "Dinner" else '' }}>Dinner</option>
                            <option value="Snack" {{ 'selected' if recipe.meal_type == "Snack" else '' }}>Snack</option>
                           
                          </select>
                    </div>
        	    </fieldset>
        </div>
        
        <div class="form-group">
            <fieldset id="buildyourform">
    		<legend>Add ingredients</legend>
        		<div class="field_wrapper">
        	        
        	            {% for ingredient in recipe.recipe_ingredients %}
        	                 {% if loop.index == 1 %}
        	                 <div>
        	                 <textarea class="form-control reduce" name="recipe_ingredient" rows="1" value="" required>{{ingredient}}</textarea>
        	                 </div>
        	                    {% else %}
        	                 <div>
        	                <textarea class="form-control reduce" name="recipe_ingredient" rows="1" value="">{{ingredient}}</textarea><a href="#" class="remove_button">&#10008;</a>
        	                </div>
        	                {% endif %}
        	            {% endfor %}
        	        
            	</div>
        	</fieldset>
    	    <a href="#/" class="add_button" title="Add field"><button type="button" class="btn btn-primary">Add ingredient</button></a>
        </div>
        
        <div class="form-group">
            <fieldset id="buildyourform">
		    <legend>Add steps</legend>
		          <div class="field_wrapper2">
    	               
    	               {% for step in recipe.recipe_steps %}
    	                   {% if loop.index == 1 %}
    	                   <div>
    	                   <textarea class="form-control reduce" name="recipe_step" rows="2" value="" required>{{step}}</textarea>
    	                   </div>
    	                       {% else %}
    	                    <div>
    	                    <textarea class="form-control reduce" name="recipe_step" rows="2" value="">{{step}}</textarea><a href="#" class="remove_button2">&#10008;</a>
    	                    </div>
    	                    {% endif %}
    	                
    	                {% endfor %}
    	              
        	       </div>
	        </fieldset>
	        <a href="#/" class="add_button2" title="Add field"><button type="button" class="btn btn-primary">Add step</button></a>
        </div>
        
          <div class="form-group">
            <fieldset id="buildyourform">
    		<legend>Recipe Preptime</legend>
        	
        	        <div>
            <input type="text" class="form-control" name="recipe_preptime" value="{{ recipe.recipe_preptime }}" required>
            </div>
        	</fieldset>
          </div>
          
          <div class="form-group">
              <fieldset id="buildyourform">
    		      <legend>Recipe Serves</legend>
        	
        	        <div>
            
            <input type="text" class="form-control" name="recipe_serves"  value="{{ recipe.recipe_serves }}" required>
            </div>
        	</fieldset>
          </div>
        
        <div class="form-group">
            <fieldset id="buildyourform">
    		      <legend>Diet</legend>
                    <div class="custom-control custom-switch">
                      <input type="checkbox" class="custom-control-input" id="customSwitch1" name="diet" value="Vegetarian" {{ 'Checked' if "Vegetarian" in recipe.diet else '' }}>
                      <label class="custom-control-label" for="customSwitch1">Does not contain meat</label>
                    </div>
                    <div class="custom-control custom-switch">
                      <input type="checkbox" class="custom-control-input" id="customSwitch2" name="diet" value="Dairy-free" {{ 'Checked' if "Dairy-free" in recipe.diet else '' }}>
                      <label class="custom-control-label" for="customSwitch2">Does not contain dairy</label>
                    </div>
                     <div class="custom-control custom-switch">
                      <input type="checkbox" class="custom-control-input" id="customSwitch3" name="diet" value="Nut-free" {{ 'Checked' if "Nut-free" in recipe.diet else '' }}>
                      <label class="custom-control-label" for="customSwitch3">Does not contain nuts</label>
                    </div>
                    <div class="custom-control custom-switch">
                      <input type="checkbox" class="custom-control-input" id="customSwitch4" name="diet" value="Gluten-free" {{ 'Checked' if "Gluten-free" in recipe.diet else '' }}>
                      <label class="custom-control-label" for="customSwitch4">Gluten-free</label>
                    </div>
        	</fieldset>
        </div>
        
        <div class="form-group">
            <fieldset id="buildyourform">
    		<legend>Recipe Image</legend>
        	
        	        <div>
            <input type="text" name="recipe_image" class="form-control" value="{{ recipe.recipe_image }}">
          	    </div>
        	</fieldset>
            </div>
        
        <div class="form-group">
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
              Update Recipe
            </button>
        </div>
        
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Confirm changes</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                Do you want to save your changes?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button class="btn btn-success" type="submit" name="action">Update Recipe</button>
              </div>
            </div>
          </div>
        </div>
    </form>
    
</div>

{% endblock %}